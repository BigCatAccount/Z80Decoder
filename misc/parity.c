#include <stdio.h>

static const unsigned char partab[256] = {
   1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,
   0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,
   0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,
   1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,
   0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,
   1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,
   1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,
   0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,
   0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,
   1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,
   1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,
   0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,
   1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,
   0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,
   0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,
   1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,
};


// Actual V flags from inir4 (C=FA)

static const int actual[256] = {
  -1, // B=00 
   0, // B=01 
   1, // B=02 
   1, // B=03 
   1, // B=04 
   0, // B=05 
   1, // B=06 
   1, // B=07 
   0, // B=08 
   1, // B=09 
   0, // B=0A 
   0, // B=0B 
   0, // B=0C 
   1, // B=0D 
   0, // B=0E 
   0, // B=0F 
   0, // B=10 
   1, // B=11 
   0, // B=12 
   0, // B=13 
   0, // B=14 
   1, // B=15 
   0, // B=16 
   0, // B=17 
   1, // B=18 
   0, // B=19 
   1, // B=1A 
   1, // B=1B 
   1, // B=1C 
   0, // B=1D 
   1, // B=1E 
   1, // B=1F 
   0, // B=20 
   1, // B=21 
   0, // B=22 
   0, // B=23 
   0, // B=24 
   1, // B=25 
   0, // B=26 
   0, // B=27 
   1, // B=28 
   0, // B=29 
   1, // B=2A 
   1, // B=2B 
   1, // B=2C 
   0, // B=2D 
   1, // B=2E 
   1, // B=2F 
   1, // B=30 
   0, // B=31 
   1, // B=32 
   1, // B=33 
   1, // B=34 
   0, // B=35 
   1, // B=36 
   1, // B=37 
   0, // B=38 
   1, // B=39 
   0, // B=3A 
   0, // B=3B 
   0, // B=3C 
   1, // B=3D 
   0, // B=3E 
   0, // B=3F 
   0, // B=40 
   1, // B=41 
   0, // B=42 
   0, // B=43 
   0, // B=44 
   1, // B=45 
   0, // B=46 
   0, // B=47 
   1, // B=48 
   0, // B=49 
   1, // B=4A 
   1, // B=4B 
   1, // B=4C 
   0, // B=4D 
   1, // B=4E 
   1, // B=4F 
   1, // B=50 
   0, // B=51 
   1, // B=52 
   1, // B=53 
   1, // B=54 
   0, // B=55 
   1, // B=56 
   1, // B=57 
   0, // B=58 
   1, // B=59 
   0, // B=5A 
   0, // B=5B 
   0, // B=5C 
   1, // B=5D 
   0, // B=5E 
   0, // B=5F 
   1, // B=60 
   0, // B=61 
   1, // B=62 
   1, // B=63 
   1, // B=64 
   0, // B=65 
   1, // B=66 
   1, // B=67 
   0, // B=68 
   1, // B=69 
   0, // B=6A 
   0, // B=6B 
   0, // B=6C 
   1, // B=6D 
   0, // B=6E 
   0, // B=6F 
   0, // B=70 
   1, // B=71 
   0, // B=72 
   0, // B=73 
   0, // B=74 
   1, // B=75 
   0, // B=76 
   0, // B=77 
   1, // B=78 
   0, // B=79 
   1, // B=7A 
   1, // B=7B 
   1, // B=7C 
   0, // B=7D 
   1, // B=7E 
   1, // B=7F 
   0, // B=80 
   1, // B=81 
   0, // B=82 
   0, // B=83 
   0, // B=84 
   1, // B=85 
   0, // B=86 
   0, // B=87 
   1, // B=88 
   0, // B=89 
   1, // B=8A 
   1, // B=8B 
   1, // B=8C 
   0, // B=8D 
   1, // B=8E 
   1, // B=8F 
   1, // B=90 
   0, // B=91 
   1, // B=92 
   1, // B=93 
   1, // B=94 
   0, // B=95 
   1, // B=96 
   1, // B=97 
   0, // B=98 
   1, // B=99 
   0, // B=9A 
   0, // B=9B 
   0, // B=9C 
   1, // B=9D 
   0, // B=9E 
   0, // B=9F 
   1, // B=A0 
   0, // B=A1 
   1, // B=A2 
   1, // B=A3 
   1, // B=A4 
   0, // B=A5 
   1, // B=A6 
   1, // B=A7 
   0, // B=A8 
   1, // B=A9 
   0, // B=AA 
   0, // B=AB 
   0, // B=AC 
   1, // B=AD 
   0, // B=AE 
   0, // B=AF 
   0, // B=B0 
   1, // B=B1 
   0, // B=B2 
   0, // B=B3 
   0, // B=B4 
   1, // B=B5 
   0, // B=B6 
   0, // B=B7 
   1, // B=B8 
   0, // B=B9 
   1, // B=BA 
   1, // B=BB 
   1, // B=BC 
   0, // B=BD 
   1, // B=BE 
   1, // B=BF 
   1, // B=C0 
   0, // B=C1 
   1, // B=C2 
   1, // B=C3 
   1, // B=C4 
   0, // B=C5 
   1, // B=C6 
   1, // B=C7 
   0, // B=C8 
   1, // B=C9 
   0, // B=CA 
   0, // B=CB 
   0, // B=CC 
   1, // B=CD 
   0, // B=CE 
   0, // B=CF 
   0, // B=D0 
   1, // B=D1 
   0, // B=D2 
   0, // B=D3 
   0, // B=D4 
   1, // B=D5 
   0, // B=D6 
   0, // B=D7 
   1, // B=D8 
   0, // B=D9 
   1, // B=DA 
  -1, // B=DB 
   1, // B=DC 
   0, // B=DD 
   1, // B=DE 
   1, // B=DF 
   0, // B=E0 
   1, // B=E1 
   0, // B=E2 
   0, // B=E3 
   0, // B=E4 
   1, // B=E5 
   0, // B=E6 
   0, // B=E7 
   1, // B=E8 
   0, // B=E9 
   1, // B=EA 
   1, // B=EB 
   1, // B=EC 
   0, // B=ED 
   1, // B=EE 
   1, // B=EF 
   1, // B=F0 
   0, // B=F1 
   1, // B=F2 
   1, // B=F3 
   1, // B=F4 
  -1, // B=F5
  -1, // B=F6
   1, // B=F7 
  -1, // B=F8
   1, // B=F9 
   0, // B=FA 
  -1, // B=FB
  -1, // B=FC
  -1, // B=FD
  -1, // B=FE
   0  // B=FF 
};


void main() {
   for (int b = 0; b <= 0xff; b++) {
      int p = actual[b];
      printf("%c", p < 0 ? '.' : '0' + p);
      if ((b & 0x0f) == 0x0f) {
         printf("\n");
      }
   }
   int errors = 0;
   for (int b = 0; b <= 0xff; b++) {
      int res = ((b & 0xf8) ^ ((b & 0x03) == 0x01)) & 0xff;
      int p = partab[res];
      if (actual[b] >= 0 && actual[b] != p) {
         errors++;
      }
   }
   printf("Errors = %d\n", errors);
}
